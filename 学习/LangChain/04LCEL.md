在现代大语言模型（LLM）应用的构建中，LangChain 提供了一种全新的表达范式，被称为 **LCEL（LangChain Expression Language）**。它不仅简化了模型交互的编排过程，还增强了组合的灵活性和可维护性。它通过一种链式组合的方式，允许开发者使用清晰、声明式的语法来构建语言模型驱动的应用流程。

简单来说，LCEL 是一种“函数式管道风格”的组件组合机制，用于连接各种可执行单元（Runnable）。这些单元包括提示模板、语言模型、输出解析器、工具函数等。

LCEL 的设计初衷在于：
1. **模块化构建**：将模型调用流程拆解为独立、可重用的组件。
2. **逻辑可视化**：通过语法符号（如管道符 `|`）呈现出明确的数据流路径。
3. **统一运行接口**：所有 LCEL 组件都实现了 `.invoke()`、`.stream()`、`.batch()` 等标准方法，便于在同步、异步或批处理环境下调用。
4. **脱离框架限制**：相比传统的 `Chain` 类和 `Agent` 架构，LCEL 更轻量、更具表达力，减少依赖的“黑盒”逻辑。

##### 核心组成
###### 1. Runnable 接口
LCEL 的一切基础单元都是 `Runnable` 对象，它是一种统一的可调用接口，支持如下形式：
- `.invoke(input)`：同步调用
- `.stream(input)`：流式生成
- `.batch(inputs)`：批量执行
###### 2. 管道运算符 `|`
这是 LCEL 最具特色的语法符号。多个 `Runnable` 对象可以通过 `|` 串联起来，形成清晰的数据处理链。例如：
```Python
prompt | model | parser
```
表示数据将依次传入提示模板、模型和输出解析器，最终输出结构化结果。
###### 3. PromptTemplate 与 OutputParser
LCEL 强调组件之间的职责明确，Prompt 只负责模板化输入，Parser 只负责格式化输出，Model 只负责推理。

LCEL标志着从传统 Agent 架构向“声明式、组合式”开发范式的转变。