##### 网文小说写手
用户输入主题--大模型生成小说题目和大纲目录--大模型按照当前目录章节以及已生成的内容概括，分别生成章节内容--根据小说内容，生成小说简介--将题目和文字内容合并输出

生成小说内容：使用数组循环，循环数组就是前面大模型生成的大纲目录。
循环体：大模型：根据主题和大纲和当前正在写的那个大纲还有前面已经写了的内容。那就要在生成小说内容那里设置一个中间变量article_summary表示文章的梗概，在大模型里面输入这个变量。输出的变量名为newcontent

文本处理：先在生成小说内容添加中间变量article，表示之前写好的内容。这里是把之前写好的内容article和上面大模型的newcontent进行拼接

梗概大模型：输出为article_summary，就是写好的文章的梗概。

设置变量：每循环一次，都要更新一次中间变量。

![[Pasted image 20250415211055.png]]
**生成小说简介：** 使用无限循环
小说简介大模型：输入变量是前面的article还有用户变量len，简介字数不要超过len
代码节点：输入生成小说简介的index,和用户变量len变量名改为input_len判断生成的简介字数和len的字数，要将len转换为整形.  输出小说实际长度length，len用户输入的长度

添加变量赋值这个节点，试运行，然后就可以在代码和小说简介添加进用户变量len。然后再把该节点删除

添加选择器：比较代码节点的length>=len，就是符合这个就继续循环

添加设置变量：先在生成小说简介那里添加中间变量result，然后在该节点设置result值为小说简介大模型的output
添加终止循环

输出为生成小说简介的result

结束：output 生成小说内容 article
       title 大纲目录生成的
       introduction 生成小说简介的output
![[Pasted image 20250415211154.png]]